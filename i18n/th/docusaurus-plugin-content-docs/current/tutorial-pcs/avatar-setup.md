import useBaseUrl from '@docusaurus/useBaseUrl';

# วิธีการติดตั้ง
คู่มือนี้จะอธิบายวิธีติดตั้งระบบ PCS ลงบนอวาตาร์ของคุณ โดยใช้เครื่องมือแบบไม่ทำลายต้นฉบับ (Non-Destructive) เช่น Modular Avatar และ VRCFury
ขณะนี้ยังไม่รองรับการติดตั้งแบบแมนนวล (Manual Installation) สำหรับวิดีโอสอนการติดตั้ง กรุณาดูได้ที่ [ลิสต์วิดีโอสอน](https://youtube.com/playlist?list=PLEvAOTfSR8u2fdM_HnFtkXuaqvAEp2WtS&si=qE1o4y8qT6cYrO52)

## 1. สิ่งที่ต้องเตรียม
ก่อนอื่น ตรวจสอบให้แน่ใจว่าคุณมีโปรเจกต์อวาตาร์ที่ติดตั้ง SDK เวอร์ชันล่าสุดแล้ว เวอร์ชันขั้นต่ำที่รองรับคือ 3.7.0 แต่ขอแนะนำอย่างยิ่งให้ใช้เวอร์ชันล่าสุดเพื่อความเสถียรและความเข้ากันได้ที่ดีที่สุด

ถัดไป ให้ติดตั้งเครื่องมืออวาตาร์อย่างใดอย่างหนึ่งต่อไปนี้ตามความต้องการของคุณ โดยเครื่องมือนี้จำเป็นสำหรับการติดตั้ง PCS ลงในอวาตาร์ของคุณ
- [Modular Avatar](https://modular-avatar.nadena.dev/) : เครื่องมือแบบไม่ทำลายต้นฉบับ (Non-Destructive) สำหรับจัดการอวาตาร์ให้เป็นแบบโมดูลาร์ และสำหรับการกระจายคอมโพเนนต์ของอวาตาร์
- [VRCFury](https://vrcfury.com/) : แนะนำให้ใช้เครื่องมือนี้ เนื่องจากคุณจำเป็นต้องมีมันอยู่แล้วในโปรเจกต์ของคุณสำหรับการใช้งาน SPS
- คุณสามารถติดตั้งได้ทั้งสองเครื่องมือหากต้องการ

จากนั้น ให้ติดตั้งไฟล์ `(Modular)PCSv1.xx.unitypackage` หากคุณต้องการใช้งานเวอร์ชัน Modular Avatar หรือหากต้องการใช้งานเวอร์ชัน VRCFury ให้ติดตั้งไฟล์ `(VRCFury)PCSv1.xx.unitypackage`

:::warning คำเตือน
กรุณาติดตั้งระบบใหม่ทุกครั้งกับอวาตาร์ของคุณหลังจากได้ทำการอัปเดตแพ็กเกจ PCS เพื่อให้ Prefab ของ PCS ได้รับการอัปเดตอย่างถูกต้อง และป้องกันปัญหาค่าการตั้งค่าที่ไม่ตรงกันระหว่าง Prefab เวอร์ชันเก่าและเวอร์ชันใหม่
:::

## 2. การตั้งค่าก่อนติดตั้ง
นี่คือเครื่องมือสำหรับติดตั้ง PCS โดยคุณสามารถใช้เครื่องมือนี้ในการกำหนดค่าและปรับแต่งฟีเจอร์ต่าง ๆ ได้ตามต้องการ
เมื่อคุณกด Apply ระบบจะทำการสร้าง PCS Prefab และไฟล์ที่เกี่ยวข้อง พร้อมเพิ่มเข้าไปยังอวาตาร์ที่คุณเลือก
- ในการเปิดเครื่องมือ ให้ไปที่ `Dismay Custom > Penetration Contact System > Setup Tool`,
จากนั้นลากอวาตาร์ของคุณไปใส่ในช่องที่กำหนด แล้วคุณจะเห็นหน้าต่างลักษณะดังนี้

:::info หมายเหตุ
หากคุณไม่พบเครื่องมือดังกล่าว โปรดตรวจสอบและแก้ไขข้อผิดพลาดต่างๆที่พบได้ในหน้าต่าง Console ข้อผิดพลาด (ตัวหนังสือสีแดง) จะทำให้เครื่องมือดังกล่าวไม่ถูกสร้างและมันจะไม่ขึ้นแสดง
:::

<img src={useBaseUrl('/img/pcs-setup-tool.png')} width="540" />

### Language
คลิกเพื่อเปลี่ยนภาษาของเครื่องมือระหว่าง English, Japanese, Korean, Thai และ Chinese
- เราใช้ ChatGPT ช่วยในการแปลภาษา หากพบว่าคำแปลไม่ถูกต้อง กรุณาแจ้งให้ทราบ

### Installer
เครื่องมืออวาตาร์สำหรับ PCS เวอร์ชันนี้ โดยปกติจะไม่สามารถเปลี่ยนได้ เว้นแต่คุณจะนำเข้า unity package อันใหม่

### Alignment Preset
ค่าพรีเซ็ตตำแหน่งของตัวตรวจจับและตำแหน่งเสียง ประกอบด้วย ปาก, หน้าอก, ช่องคลอด และ ทวาร
มีพรีเซ็ตหลายแบบสำหรับอวาตาร์ที่นิยมใช้งานอย่างแพร่หลาย เพื่อให้ตั้งค่าได้ง่ายและรองรับได้ดีขึ้น โดยพรีเซ็ตทั้งหมดถูกบันทึกตำแหน่งด้วยตนเองจากไฟล์ FBX ต้นฉบับ

- คุณสามารถใช้พรีเซ็ต `Generic` กับอวาตาร์ใดก็ได้ที่ไม่มีพรีเซ็ตเฉพาะรองรับ โดย PCS สามารถใช้งานได้กับอวาตาร์ประเภท Humanoid ทั้งหมด
<img src={useBaseUrl('/img/pcs-reference.png')} width="540" />
- การใช้พรีเซ็ต `Reference` จะช่วยให้คุณกำหนดตำแหน่งด้วยตนเอง โดยอ้างอิงจากวัตถุอื่น เช่น ตำแหน่ง SPS Socket ที่คุณได้จัดวางไว้ก่อนหน้า
- ใช้ปุ่ม `Find SPS Socket` เพื่อค้นหา Wholesome SPS Sockets และจัดวางตำแหน่งให้อัตโนมัติ

### Position & Sounds
ใช้ตัวเลือกนี้เพื่อกำหนดว่าคุณต้องการเปิดหรือปิดเสียงใดบ้างหากไม่ต้องการใช้งาน การปิดเสียงบางรายการอาจช่วยลดการใช้พารามิเตอร์ลงได้เล็กน้อย (1 บิทต่อตัวเลือก)

### Smash Sensitivity
ค่านี้ใช้ควบคุมความไวในการตรวจจับแรงกระทบ หากลดค่านี้ลง คุณจะต้องกระแทกแรงขึ้นจึงจะสามารถกระตุ้นให้เกิดเสียงได้
แนะนำให้ตั้งค่าไว้ที่ 1.0 (ค่าสูงสุด) เว้นแต่คุณจะรู้สึกว่าระบบตรวจจับได้ง่ายเกินไป

### Custom Position
นี่คือตำแหน่งเพิ่มเติมแบบกำหนดเองสำหรับ PCS คุณสามารถใช้ตำแหน่งแบบกำหนดเองนี้เพื่อแทนที่ตำแหน่งค่าเริ่มต้นของ PCS ได้
ตัวอย่างเช่น คุณอาจใช้ฟังก์ชันนี้เพื่อเพิ่มตำแหน่งเสียงเพิ่มเติมสำหรับมือ เท้า หรืออุปกรณ์เสริมต่าง ๆ
<img src={useBaseUrl('/img/pcs-custom-position.png')} width="540" />
- คุณสามารถเลือกตำแหน่งเพิ่มเติมได้สูงสุด 8 ตำแหน่ง เมื่อรวมกับตำแหน่งหลักแล้วจะมีทั้งหมด 12 ตำแหน่ง คุณสามารถลากและจัดวางแต่ละตำแหน่งได้อย่างอิสระตามต้องการ และสามารถตั้งชื่อเมนูได้เอง
- ใช้ปุ่มที่มีอยู่เพื่อเลือกตำแหน่งมือและเท้าโดยอัตโนมัติ อย่างไรก็ตาม คุณอาจจำเป็นต้องปรับตำแหน่งและการหมุน (Rotation) เพิ่มเติมภายหลัง

### Lust Feature
นี่คือระบบ Satisfaction ที่ช่วยให้คุณสะสมแต้มความตื่นตัวจากการสอดใส่ เมื่อแต้มสะสมถึงระดับสูงสุด ระบบจะทำการทริกเกอร์เอฟเฟกต์จุดสุดยอดโดยอัตโนมัติ
นอกจากนี้ ระบบนี้ยังปลดล็อกฟีเจอร์เสียงคราง เพิ่มเติมอีกด้วย

- **Lust Multiplier:**
ค่านี้ช่วยให้คุณควบคุมได้ว่าในการสอดใส่แต่ละครั้ง จะได้รับแต้มความตื่นตัว 1 แต้มได้ง่ายหรือยากเพียงใด

### Voice Pack
นี่คือชุดเสียงครางที่จะเล่นตามประเภทของการสอดใส่ที่แตกต่างกัน โดยมีหลายหมวดหมู่และรูปแบบตามตำแหน่ง เช่น ออรัล การขยับเบา การขยับหนัก และรองรับการทำงานร่วมกับระบบ Satisfaction

:::info หมายเหตุ
ค่าเริ่มต้นจะมีชุดเสียงให้ 3 แบบ โดยแต่ละแบบจะแตกต่างกันในโทนเสียงและช่วงอายุ อย่างไรก็ตาม หากคุณมีชุดเสียงของตนเอง คุณสามารถใช้เครื่องมือเฉพาะทางนี้เพื่อแทนที่ไฟล์เสียงเริ่มต้นได้ที่ [dedicated tool](./audio-manager)
:::

### Direction Offset
ตัวเลือกนี้จะสร้างเมนูพิเศษที่ช่วยให้คุณหมุน PCS ได้อย่างอิสระ
มีประโยชน์อย่างมากในการใช้งานจริง โดยเฉพาะเมื่อคุณพบปัญหาการตรวจจับขาดช่วงขณะทำท่าทางที่ซับซ้อน เช่น ท่ายืน ซึ่งอาจทำให้การตรวจจับล้มเหลวได้ง่าย เนื่องจากทิศทางการเคลื่อนไหวหน้า–หลังไม่สอดคล้องกับทิศทางของช่องที่เป็นแนวขึ้น–ลง

### Add SPS Socket
ตัวเลือกนี้จะเพิ่ม SPS Sockets ไปยังทุกตำแหน่งเสียงโดยอัตโนมัติ รวมถึงตำแหน่งที่กำหนดเองด้วย เมนูของ PCS ยังสามารถควบคุมผ่านซ็อกเก็ตเหล่านี้ได้โดยตรง โดยไม่ต้องทำการเชื่อมเมนูด้วยตนเองผ่าน [menu linking](./sps-link).
- คุณไม่จำเป็นต้องใช้ตัวเลือกนี้ หากอวาตาร์ของคุณมีการตั้งค่า SPS ไว้อยู่แล้ว เพราะอาจทำให้มี SPS เพิ่มเข้ามาโดยไม่จำเป็น
- ตัวเลือกนี้จะไม่ลบซ็อกเก็ตที่มีอยู่เดิมในอวาตาร์ของคุณ แต่จะเพิ่มชุดซ็อกเก็ตใหม่เข้าไปเท่านั้น

### Remove Menu Toggle
ตัวเลือกนี้จะลบเมนูสลับตำแหน่งเสียงของ PCS เพื่อประหยัดพารามิเตอร์จำนวน 4 หน่วย
:::warning Warning
ไม่แนะนำอย่างยิ่งสำหรับการใช้งานทั่วไป เนื่องจากตัวเลือกนี้จะลบเมนูตำแหน่งเสียงทั้งหมด ควรใช้เฉพาะในกรณีที่คุณวางแผนจะสลับการทำงานผ่าน [VRC Avatar Parameter Driver](https://creators.vrchat.com/avatars/state-behaviors) state behaviour หรือฟังก์ชันอื่นที่คล้ายกันเท่านั้น
:::

## 3. Apply
หลังจากกดปุ่ม Apply แล้ว ระบบ PCS จะถูกเพิ่มเข้าไปในอวาตาร์ของคุณ เสร็จเรียบร้อย
- ไฟล์ต่าง ๆ เช่น animator controller และเมนู จะถูกสร้างแยกตามแต่ละอวาตาร์โดยอัตโนมัติ
ไฟล์เหล่านี้สามารถพบได้ที่ `Assets/!Dismay Custom/Penetration Contact System/#GENERATE`

<img src={useBaseUrl('/img/pcs-apply.png')} width="540" />

---

## ขั้นตอนเสริม
นี่คือ<u>ขั้นตอนเสริมที่คุณสามารถข้ามได้</u> โดยเนื้อหาส่วนนี้จะอธิบายวิธีการปรับตำแหน่งจุดเสียงต่าง ๆ และการปรับขนาด

### การเลือกตำแหน่งเมนู
สำหรับ **VRCFury** คุณสามารถเพิ่มชื่อเมนูเป็นคำนำหน้า เพื่อจัดวางเมนู PCS ไว้ภายในเมนูนั้นได้
<img src={useBaseUrl('/img/pcs-menu-prefix1.png')} width="540" />

สำหรับ **Modular Avatar** คุณสามารถกดปุ่ม `Select Menu` ได้
<img src={useBaseUrl('/img/pcs-menu-prefix2.png')} width="540" />


### การปรับตำแหน่ง
คุณสามารถขยับหรือหมุน `<PCS Target> Xxx` เพื่อให้จัดตำแหน่งได้แม่นยำมากยิ่งขึ้น
ตำแหน่งเหล่านี้จะเป็นตัวกำหนดว่า PCS จะเคลื่อนที่ไปอยู่จุดใด เมื่อถูกเปิดใช้งานผ่านเมนูตัว marker ไกด์ตำแหน่งจะแสดงทิศทางที่ควรหันไป
<img src={useBaseUrl('/img/pcs-guide1.png')} width="540" />

### การปรับขนาด
คุณสามารถปรับขนาดของ `PCS Contacts` เพื่อทำให้ PCS มีขนาดใหญ่ขึ้นหรือเล็กลงตามต้องการได้
ในบางกรณี PCS อาจดูเล็กเกินไปบนอวาตาร์บางตัว เนื่องจากสเกลของ Armature ที่ไม่ปกติ
<img src={useBaseUrl('/img/pcs-guide2.png')} width="540" />

### เมนูเข้าถึงด่วน
นี่คือเมนูลัดที่ช่วยให้คุณค้นหาตำแหน่งของวัตถุเสียงได้ง่ายขึ้น
นอกจากนี้ยังสามารถเปิดหรือปิดไอคอนไกด์ และสร้าง test penetrator ขึ้นมาเพื่อใช้ทดสอบได้
<img src={useBaseUrl('/img/pcs-quick-access.png')} width="540" />